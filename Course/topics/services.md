# Services

<secondary-label ref="todo"/>

Service в Android ключевой механизм для выполнения длительных операций в Android,
но их использование требует понимания их типов, жизненного цикла и ограничений.

## Типы Service-ов {id="service-types"}

### Started Service

Запускается через startService(), работает независимо от UI. Используется для:

- Однократных задач (например, загрузка файла).
- Длительных операций без привязки к компонентам.

**Жизненный цикл**: onCreate() → onStartCommand() → работает до вызова stopSelf() или stopService().

### Bound Service

Связывается с компонентами (Activity, Fragment) через bindService().
Подходит для:

- Межпроцессного взаимодействия (IPC).
- Постоянного обмена данными (например, стриминг музыки).

**Жизненный цикл**: Работает, пока есть хотя бы один подключенный клиент.

### Foreground Service

Обязательно показывает уведомление.
Используется для:

- Задач, заметных пользователю (музыка, GPS-трекинг).
- Длительных операций, которые нельзя прервать (например, синхронизация данных).

**Требование**: С Android 8 (API 26) все фоновые сервисы должны быть Foreground

### ~~Intent Service (deprecated)~~

## Когда использовать Service {id="service-usage"}

- Непрерывные задачи (аудиоплеер, запись с микрофона)
- Обмен данными между приложениями через IPC
- Работа с hardware (Bluetooth, камера) в фоне

## Когда избегать {id="service-not-recommended"}

- Короткие фоновые задачи → Используйте WorkManager или ThreadPool
- Отложенные операции → JobScheduler/WorkManager с условиями (сеть, зарядка)
- Периодические задачи → AlarmManager для точного времени